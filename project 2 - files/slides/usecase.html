<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>


<a name="ch06table02"></a><p><table cellspacing="0" cellpadding="5"><caption><h5 class="docTableTitle"> Use Case UC1: Process Sale</h5></caption><colgroup><col width="550"></colgroup><thead></thead><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong">Scope</span>: NextGen POS application</P>
<p class="docText"><span class="docEmphStrong">Level</span>: user goal</P>
<p class="docText"><span class="docEmphStrong">Primary Actor</span>: Cashier</p>
<p class="docText"><span class="docEmphStrong">Stakeholders and Interests</span>:</p>
<dl><dd><span class="docText">- 
<span class="docEmphRoman">Cashier:</span> 
Wants accurate, fast entry, and no payment errors, as cash drawer shortages are deducted from his/her salary.<BR><br></span></dd><dd><span class="docText">- 
<span class="docEmphRoman">Salesperson:</span> 
Wants sales commissions updated.<br><br></span></dd><dd><span class="docText">- 
<span class="docEmphRoman">Customer:</span> 
Wants purchase and fast service with minimal effort. Wants easily visible display of entered items and prices. Wants proof of purchase to support returns.<br><br></span></dd><dd><span class="docText">- 
<span class="docEmphRoman">Company:</span> 
Wants to accurately record transactions and satisfy customer interests. Wants to ensure that Payment Authorization Service payment receivables are recorded. Wants some fault tolerance to allow sales capture even if server components (e.g., remote credit validation) are unavailable. Wants automatic and fast update of accounting and inventory.<br><BR></span></dd><dd><span class="docText">- 
<span class="docEmphRoman">Manager:</span> 
Wants to be able to quickly perform override operations, and easily debug Cashier problems.<br><BR></span></dd><dd><span class="docText">- 
<span class="docEmphRoman">Government Tax Agencies:</span> 
Want to collect tax from every sale. May be multiple agencies, such as national, state, and county.<br><BR></span></dd><dd><span class="docText">- 
<span class="docEmphRoman">Payment Authorization Service:</span> 
Wants to receive digital authorization requests in the correct format and protocol. Wants to accurately account for their payables to the store.<br><br></span></dd></dl>
<p class="docText"><span class="docEmphStrong">Preconditions:</span> 
Cashier is identified and authenticated.</p>
<p class="docText"><span class="docEmphStrong">Success Guarantee (or Postconditions):</span> 
Sale is saved. Tax is correctly calculated. Accounting and Inventory are updated. Commissions recorded. Receipt is generated. Payment authorization approvals are recorded.</p></TD></TR><tr><td class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong">Main Success Scenario (or Basic Flow)</span>:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Customer arrives at POS checkout with goods and/or services to purchase.</P></div></li><li><div style="font-weight:normal"><p class="docList">Cashier starts a new sale.</P></div></li><LI><div style="font-weight:normal"><p class="docList">Cashier enters item identifier.</p></div></li><li><div style="font-weight:normal"><p class="docList">System records sale line item and presents item description, price, and running total. Price calculated from a set of price rules.</p><p class="docList"><span class="docEmphasis"><i>Cashier repeats steps 3-4 until indicates done.</i></span></p></div></li></ol></div>
<div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System presents total with taxes calculated.</p></div></li><li><div style="font-weight:normal"><p class="docList">Cashier tells Customer the total, and asks for payment.</p></div></li><li><div style="font-weight:normal"><p class="docList">Customer pays and System handles payment.</p></div></li><li><div style="font-weight:normal"><p class="docList">System logs completed sale and sends sale and payment information to the external Accounting system (for accounting and commissions) and Inventory system (to update inventory).</P></div></LI><li><div style="font-weight:normal"><p class="docList">System presents receipt.</p></div></LI><li><div style="font-weight:normal"><p class="docList">Customer leaves with receipt and goods (if any).</p></div></li></ol></div>
<p class="docText"><span class="docEmphStrong">Extensions (or Alternative Flows):</span></p>
<blockquote><p><p class="docList">*a. At any time, Manager requests an override operation:</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">System enters Manager-authorized mode.</p></div></LI><li><div style="font-weight:normal"><p class="docList">Manager or Cashier performs one Manager-mode operation. e.g., cash balance change, resume a suspended sale on another register, void a sale, etc.</P></div></li><li><div style="font-weight:normal"><p class="docList">System reverts to Cashier-authorized mode.</p></div></li></ol></div></P><P><p class="docList">*b. At any time, System fails:</p><p class="docList">To support recovery and correct accounting, ensure all transaction sensitive state and events can be recovered from any step of the scenario.</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier restarts System, logs in, and requests recovery of prior state.</p></div></LI><li><div style="font-weight:normal"><p class="docList">System reconstructs prior state.</p><blockquote><P><p class="docList">2a. System detects anomalies preventing recovery:</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">System signals error to the Cashier, records the error, and enters a clean state.</p></div></li><li><div style="font-weight:normal"><p class="docList">Cashier starts a new sale.</p></div></li></ol></div></p></blockquote></div></li></ol></div></p><p><p class="docList">1a. Customer or Manager indicate to resume a suspended sale.</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier performs resume operation, and enters the ID to retrieve the sale.</p></div></li><li><div style="font-weight:normal"><p class="docList">System displays the state of the resumed sale, with subtotal.</p><blockquote><p><p class="docList">2a. Sale not found.</P><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">System signals error to the Cashier.</p></div></li><LI><div style="font-weight:normal"><p class="docList">Cashier probably starts new sale and re-enters all items.</p></div></li></ol></div></p></blockquote></div></li><li><div style="font-weight:normal"><p class="docList">Cashier continues with sale (probably entering more items or handling payment).</p></div></LI></ol></div></p><P><p class="docList">2-4a. Customer tells Cashier they have a tax-exempt status (e.g., seniors, native peoples)</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Cashier verifies, and then enters tax-exempt status code.</p></div></li><li><div style="font-weight:normal"><p class="docList">System records status (which it will use during tax calculations)</p></div></LI></ol></div></P><p><p class="docList">3a. Invalid item ID (not found in system):</p><blockquote><p><p class="docList">1. System signals error and rejects entry.</p></P><p><p class="docList">2. Cashier responds to the error:</p><blockquote><P><p class="docList">2a. There is a human-readable item ID (e.g., a numeric UPC):</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Cashier manually enters the item ID.</p></div></li><li><div style="font-weight:normal"><p class="docList">System displays description and price.</p></div></li></ol></div><blockquote><p><p class="docList">2a. Invalid item ID: System signals error. Cashier tries alternate method.</p></p></blockquote></p><p><p class="docList">2b. There is no item ID, but there is a price on the tag:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier asks Manager to perform an override operation.</p></div></li><li><div style="font-weight:normal"><p class="docList">Managers performs override.</p></div></LI><LI><div style="font-weight:normal"><p class="docList">Cashier indicates manual price entry, enters price, and requests standard taxation for this amount (because there is no product information, the tax engine can't otherwise deduce how to tax it)</p></div></li></ol></div></P><p><p class="docList">2c. Cashier performs <span class="docEmphUl"> <u>Find Product Help</u></span> to obtain true item ID and price.</p></p><p><p class="docList">2d. Otherwise, Cashier asks an employee for the true item ID or price, and does either manual ID or manual price entry (see above).</p></p></blockquote></P></blockquote></p><P><p class="docList">3b. There are multiple of same item category and tracking unique item identity not important (e.g., 5 packages of veggie-burgers):</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Cashier can enter item category identifier and the quantity.</p></div></li></ol></div></p><p><p class="docList">3c. Item requires manual category and price entry (such as flowers or cards with a price on them):</P><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Cashier enters special manual category code, plus the price.</p></div></li></ol></div></p><p><p class="docList">3-6a: Customer asks Cashier to remove (i.e., void) an item from the purchase:</P></p><p><p class="docList">This is only legal if the item value is less than the void limit for Cashiers, otherwise a Manager override is needed.</P><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier enters item identifier for removal from sale.</P></div></li><li><div style="font-weight:normal"><p class="docList">System removes item and displays updated running total.</p><blockquote><p><p class="docList">2a. Item price exceeds void limit for Cashiers:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System signals error, and suggests Manager override.</p></div></li><li><div style="font-weight:normal"><p class="docList">Cashier requests Manager override, gets it, and repeats operation.</p></div></li></ol></div></p></blockquote></div></li></ol></div></p><p><p class="docList">3-6b. Customer tells Cashier to cancel sale:</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Cashier cancels sale on System.</P></div></li></ol></div></p><P><p class="docList">3-6c. Cashier suspends the sale:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System records sale so that it is available for retrieval on any POS register.</p></div></li><li><div style="font-weight:normal"><p class="docList">System presents a &quot;suspend receipt&quot; that includes the line items, and a sale ID used to retrieve and resume the sale.</p></div></LI></ol></div></p><P><p class="docList">4a. The system supplied item price is not wanted (e.g., Customer complained about something and is offered a lower price):</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Cashier requests approval from Manager.</p></div></li><li><div style="font-weight:normal"><p class="docList">Manager performs override operation.</p></div></LI><LI><div style="font-weight:normal"><p class="docList">Cashier enters manual override price.</p></div></li><li><div style="font-weight:normal"><p class="docList">System presents new price.</p></div></LI></ol></div></p><p><p class="docList">5a. System detects failure to communicate with external tax calculation system service:</P><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System restarts the service on the POS node, and continues.</P><blockquote><p><p class="docList">1a. System detects that the service does not restart.</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System signals error.</p></div></li><li><div style="font-weight:normal"><p class="docList">Cashier may manually calculate and enter the tax, or cancel the sale.</p></div></li></ol></div></p></blockquote></div></li></ol></div></p><p><p class="docList">5b. Customer says they are eligible for a discount (e.g., employee, preferred customer):</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier signals discount request.</p></div></li><LI><div style="font-weight:normal"><p class="docList">Cashier enters Customer identification.</P></div></li><li><div style="font-weight:normal"><p class="docList">System presents discount total, based on discount rules.</P></div></li></ol></div></p><p><p class="docList">5c. Customer says they have credit in their account, to apply to the sale:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier signals credit request.</p></div></LI><li><div style="font-weight:normal"><p class="docList">Cashier enters Customer identification.</P></div></li><LI><div style="font-weight:normal"><p class="docList">Systems applies credit up to price=0, and reduces remaining credit.</p></div></li></ol></div></p><p><p class="docList">6a. Customer says they intended to pay by cash but don't have enough cash:</P><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Cashier asks for alternate payment method.</p><blockquote><p><p class="docList">1a. Customer tells Cashier to cancel sale. Cashier cancels sale on System.</p></p></blockquote></div></LI></ol></div></p><p><p class="docList">7a. Paying by cash:</P><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier enters the cash amount tendered.</P></div></li><li><div style="font-weight:normal"><p class="docList">System presents the balance due, and releases the cash drawer.</p></div></li><li><div style="font-weight:normal"><p class="docList">Cashier deposits cash tendered and returns balance in cash to Customer.</p></div></li><li><div style="font-weight:normal"><p class="docList">System records the cash payment.</p></div></li></ol></div></p><p><p class="docList">7b. Paying by credit:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Customer enters their credit account information.</p></div></li><LI><div style="font-weight:normal"><p class="docList">System displays their payment for verification.</P></div></li><li><div style="font-weight:normal"><p class="docList">Cashier confirms.</P><blockquote><p><p class="docList">3a. Cashier cancels payment step:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System reverts to &quot;item entry&quot; mode.</p></div></li></ol></div></p></blockquote></div></LI><li><div style="font-weight:normal"><p class="docList">System sends payment authorization request to an external Payment Authorization Service System, and requests payment approval.</P><blockquote><p><p class="docList">4a. System detects failure to collaborate with external system:</P><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System signals error to Cashier.</p></div></li><li><div style="font-weight:normal"><p class="docList">Cashier asks Customer for alternate payment.</P></div></LI></ol></div></p></blockquote></div></li><li><div style="font-weight:normal"><p class="docList">System receives payment approval, signals approval to Cashier, and releases cash drawer (to insert signed credit payment receipt).</p><blockquote><P><p class="docList">5a. System receives payment denial:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System signals denial to Cashier.</P></div></li><LI><div style="font-weight:normal"><p class="docList">Cashier asks Customer for alternate payment.</p></div></li></ol></div></p><p><p class="docList">5b. Timeout waiting for response.</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System signals timeout to Cashier.</p></div></li><li><div style="font-weight:normal"><p class="docList">Cashier may try again, or ask Customer for alternate payment.</p></div></li></ol></div></p></blockquote></div></li><li><div style="font-weight:normal"><p class="docList">System records the credit payment, which includes the payment approval.</p></div></li><LI><div style="font-weight:normal"><p class="docList">System presents credit payment signature input mechanism.</P></div></li><li><div style="font-weight:normal"><p class="docList">Cashier asks Customer for a credit payment signature. Customer enters signature.</P></div></li><li><div style="font-weight:normal"><p class="docList">If signature on paper receipt, Cashier places receipt in cash drawer and closes it.</p></div></li></ol></div></p><p><p class="docList">7c. Paying by check&#8230;</P></p><P><p class="docList">7d. Paying by debit&#8230;</p></P><p><p class="docList">7e. Cashier cancels payment step:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System reverts to &quot;item entry&quot; mode.</p></div></LI></ol></div></P><p><p class="docList">7f. Customer presents coupons:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Before handling payment, Cashier records each coupon and System reduces price as appropriate. System records the used coupons for accounting reasons.</p><blockquote><P><p class="docList">1a. Coupon entered is not for any purchased item:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System signals error to Cashier.</P></div></li></ol></div></P></blockquote></div></li></ol></div></p><p><p class="docList">9a. There are product rebates:</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">System presents the rebate forms and rebate receipts for each item with a rebate.</p></div></li></ol></div></p><p><p class="docList">9b. Customer requests gift receipt (no prices visible):</p><div style="font-weight:bold"><ol class="docList" type="1"><li><div style="font-weight:normal"><p class="docList">Cashier requests gift receipt and System presents it.</p></div></li></ol></div></p><p><p class="docList">9c. Printer out of paper.</p><div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">If System can detect the fault, will signal the problem.</P></div></li><li><div style="font-weight:normal"><p class="docList">Cashier replaces paper.</P></div></li><li><div style="font-weight:normal"><p class="docList">Cashier requests another receipt.</p></div></li></ol></div></p></blockquote></td></TR><tr><TD class="docTableCell" align="left" valign="top"><p class="docText"><span class="docEmphStrong">Special Requirements:</span></p>
<dl><dd><p class="docList">- Touch screen UI on a large flat panel monitor. Text must be visible from 1 meter.</P></dd><dd><p class="docList">- Credit authorization response within 30 seconds 90% of the time.</p></dd><dd><p class="docList">- Somehow, we want robust recovery when access to remote services such the inventory system is failing.</p></dd><dd><p class="docList">- Language internationalization on the text displayed.</p></dd><dd><p class="docList">- Pluggable business rules to be insertable at steps 3 and 7.</p></dd><dd><p class="docList">- &#8230;</P></dd></dl>
<p class="docText"><span class="docEmphStrong">Technology and Data Variations List:</span></P>
<blockquote><p><p class="docList">*a. Manager override entered by swiping an override card through a card reader, or entering an authorization code via the keyboard.</p></p><p><p class="docList">3a. Item identifier entered by bar code laser scanner (if bar code is present) or keyboard.</P></p><p><p class="docList">3b. Item identifier may be any UPC, EAN, JAN, or SKU coding scheme.</P></p><P><p class="docList">7a. Credit account information entered by card reader or keyboard.</p></p><p><p class="docList">7b. Credit payment signature captured on paper receipt. But within two years, we predict many customers will want digital signature capture.</p></p></blockquote>
<p class="docText"><span class="docEmphStrong">Frequency of Occurrence:</span> 
Could be nearly continuous.</p>
<p class="docText"><span class="docEmphStrong">Open Issues</span>:</p>
<dl><dd><p class="docList">- What are the tax law variations?</p></dd><dd><p class="docList">- Explore the remote service recovery issue.</p></dd><dd><p class="docList">- What customization is needed for different businesses?</p></dd><dd><p class="docList">- Must a cashier take their cash drawer when they log out?</p></dd><dd><p class="docList">- Can the customer directly use the card reader, or does the cashier have to do it?</p></dd></dl></td></tr></table></p><br>
<p class="docText">This use case is illustrative rather than exhaustive (although it is based on a real POS system's requirementsdeveloped with an OO design in Java). Nevertheless, there is enough detail and complexity here to offer a realistic sense that a fully dressed use case can record many requirement details. This example will serve well as a model for many use case problems.</P>
<a><img src="images/pixel.gif"     width="1" height="1" border="0"></a><UL></ul></td></TR></table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div style="MARGIN-LEFT: 0.15in;"><a><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle" alt="Team LiB"></a></div></td>
<td align="right"><div style="MARGIN-LEFT: 0.15in;">
<a><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</div></td></tr></table>
</body></html>